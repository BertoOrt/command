var input=document.querySelector("input.command"),theme=cookieParser(document.cookie).theme,nameInput=document.querySelector("#name"),passwordInput=document.querySelector("#password"),confirmationInput=document.querySelector("#confirmation");"white"===theme?(input.style.background=theme,document.body.style.background=theme,document.body.style.color="black",input.style.color="black",input.value=""):"hacker"===theme?(input.style.background="black",document.body.style.background="black",document.body.style.color="#00FF00",input.style.color="#00FF00",input.value=""):"black"===theme?(input.style.background=theme,document.body.style.background=theme,document.body.style.color="white",input.style.color="white",input.value=""):(input.style.background=theme,document.body.style.background=theme,input.value="");var placeHolder=document.querySelector(".invisible"),place=Number(placeHolder.innerHTML)||0,errors=new error;if(input.addEventListener("blur",function(){this.focus()}),0===place){var container=document.querySelector(".parent"),div=document.createElement("div"),pre=document.createElement("pre");div.className="prompt",container.appendChild(div),div.appendChild(pre),pre.innerHTML=intro[0],input.value=""}else{var container=document.querySelector(".parent"),pre=document.createElement("pre"),pre2=document.createElement("pre"),div=document.createElement("div"),div2=document.querySelector(".signupInfo");div.className="prompt",container.appendChild(div),div.appendChild(pre),div2.appendChild(pre2),pre.innerHTML=intro[1],pre2.className="question",pre2.innerHTML="What's your name?"}document.querySelector("#input-form").addEventListener("submit",function(e){if("clear"===input.value.trim().toLowerCase()&&0===place){for(var t=document.getElementsByClassName("signup"),r=t.length,n=0;r>n;n++)t[0].remove();input.value="",e.preventDefault()}else if("quit"===input.value.trim().toLowerCase())window.location.replace("/dragon"),e.preventDefault();else if("help"===input.value.trim().toLowerCase()&&0===place){var t=document.querySelector(".prompt"),o=document.createElement("div");o.className="signup",o.innerHTML=parser(dragonHelp),t.appendChild(o),input.value="",e.preventDefault()}else if("a"===input.value.trim().toLowerCase()&&0===place){var t=document.querySelector(".prompt"),o=document.createElement("div");o.className="signup",o.innerHTML="Foolish attempt. You barely have enough strength to hold the damn thing. Try something else.",t.appendChild(o),input.value="",e.preventDefault()}else if("b"===input.value.trim().toLowerCase()&&0===place){var t=document.querySelector(".prompt"),o=document.createElement("div");o.className="signup",o.innerHTML="You suddenly remember you're stuck in a dungeon. There's nowhere to go. Try something else.",t.appendChild(o),input.value="",e.preventDefault()}else if("c"===input.value.trim().toLowerCase()&&0===place){document.querySelector(".prompt").remove();var t=document.querySelector(".parent"),a=document.createElement("pre"),u=document.createElement("pre"),o=document.createElement("div"),l=document.querySelector(".signupInfo");o.className="prompt",t.appendChild(o),o.appendChild(a),l.appendChild(u),a.innerHTML=intro[1],u.className="question",u.innerHTML="What's your name?",input.value="",place++,e.preventDefault()}else if("clear"===input.value.trim().toLowerCase()&&place>0){document.querySelector(".signupInfo").remove();var t=document.querySelector(".append"),o=document.createElement("div"),a=document.createElement("pre"),c=document.querySelector(".error");t.appendChild(o),o.appendChild(a),o.className="signupInfo",a.className="question",c.innerHTML="",a.innerHTML="What's your name?",input.value="",input.type="text",place=1,e.preventDefault()}else if(1===place)if(errors.validateInput(input.value,"name"),errors.errorsArr.length>0){var o=document.querySelector(".error");o.innerHTML=errors.errorsArr[0],input.value="",errors.errorsArr=[],e.preventDefault()}else{document.querySelector(".question").remove();var o=document.querySelector(".signupInfo"),p=document.createElement("input"),i=document.createElement("label"),a=document.createElement("pre"),c=document.querySelector(".error");o.appendChild(i),o.appendChild(p),o.appendChild(a),i.setAttribute("for","name"),c.innerHTML="",i.innerHTML="Name: ",a.innerHTML="\nWhat's your password?\n\n(enter clear to change name)",p.setAttribute("id","name"),p.name="name",p.value=input.value.trim().toLowerCase(),theme&&("hacker"===theme?(p.style.background="black",p.style.color="#00FF00"):"white"===theme&&(p.style.color="black"),p.style.background=theme),a.className="question",input.value="",input.type="password",place++,e.preventDefault()}else if(2===place)if(errors.validateInput(input.value,"password"),errors.errorsArr.length>0){var o=document.querySelector(".error");o.innerHTML=errors.errorsArr[0],input.value="",errors.errorsArr=[],e.preventDefault()}else{document.querySelector(".question").remove();var o=document.querySelector(".signupInfo"),d=document.createElement("p"),m=document.createElement("input"),i=document.createElement("label"),a=document.createElement("pre"),c=document.querySelector(".error");o.appendChild(d),d.appendChild(i),d.appendChild(m),d.appendChild(a),i.setAttribute("for","password"),i.innerHTML="Password: ",c.innerHTML="",m.setAttribute("id","password"),m.name="password",m.value=input.value,m.type="password",theme&&("hacker"===theme?(m.style.background="black",m.style.color="#00FF00"):"white"===theme&&(m.style.color="black"),m.style.background=theme),a.className="question",a.innerHTML="\nPlease confirm your password.",input.value="",input.type="password",place++,e.preventDefault()}else if(3===place){var m=document.querySelector("#password").value;if(m!==input.value){var o=document.querySelector(".error");o.innerHTML="Please make sure your password matches. Enter clear to reset",input.value="",e.preventDefault()}else{document.querySelector(".question").remove();var o=document.querySelector(".signupInfo"),d=document.createElement("p"),a=document.createElement("pre"),c=document.querySelector(".error");o.appendChild(d),d.appendChild(a),a.className="question",c.innerHTML="",a.innerHTML="\nAll good. Enter clear to restart or any key to sign up and start the game",input.value="",input.type="text",place++,e.preventDefault()}}else if(4===place);else if(0===place){var t=document.querySelector(".prompt"),o=document.createElement("div");o.className="signup",o.innerHTML=input.value+": command not found",t.appendChild(o),input.value="",e.preventDefault()}});