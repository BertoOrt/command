var input=document.querySelector("input.command"),container=document.querySelector(".parent"),div=document.createElement("div"),div2=document.querySelector(".signupInfo"),pre=document.createElement("pre"),pre2=document.createElement("pre");div.className="prompt",container.appendChild(div),div.appendChild(pre),div2.appendChild(pre2),pre2.className="question",pre2.innerHTML="What's your name?",pre.innerHTML="Sorry you're leaving us",input.value="";var place=0,errors=new error,theme=cookieParser(document.cookie).theme;"white"===theme?(input.style.background=theme,document.body.style.background=theme,document.body.style.color="black",input.style.color="black",input.value=""):"hacker"===theme?(input.style.background="black",document.body.style.background="black",document.body.style.color="#00FF00",input.style.color="#00FF00",input.value=""):"black"===theme?(input.style.background=theme,document.body.style.background=theme,document.body.style.color="white",input.style.color="white",input.value=""):(input.style.background=theme,document.body.style.background=theme,input.value=""),input.addEventListener("blur",function(){this.focus()}),document.querySelector("#input-form").addEventListener("submit",function(e){if("clear"===input.value.trim().toLowerCase()){document.querySelector(".signupInfo").remove();var t=document.querySelector(".append"),r=document.createElement("div"),n=document.createElement("pre"),o=document.querySelector(".error");t.appendChild(r),r.appendChild(n),r.className="signupInfo",n.className="question",o.innerHTML="",n.innerHTML="What's your name?",input.value="",input.type="text",place=0,e.preventDefault()}else if("quit"===input.value.trim().toLowerCase())window.location.replace("/dragon"),e.preventDefault();else if(0===place)if(errors.validateInput(input.value,"name"),errors.errorsArr.length>0){var r=document.querySelector(".error");r.innerHTML=errors.errorsArr[0],input.value="",errors.errorsArr=[],e.preventDefault()}else{document.querySelector(".question").remove();var r=document.querySelector(".signupInfo"),u=document.createElement("input"),a=document.createElement("label"),n=document.createElement("pre"),o=document.querySelector(".error");r.appendChild(a),r.appendChild(u),r.appendChild(n),a.setAttribute("for","name"),o.innerHTML="",a.innerHTML="Name: ",n.innerHTML="\nWhat's your password?\n\n(enter clear to change name)",u.setAttribute("id","name"),u.name="name",u.value=input.value,theme&&("hacker"===theme?(u.style.background="black",u.style.color="#00FF00"):"white"===theme&&(u.style.color="black"),u.style.background=theme),n.className="question",input.value="",input.type="password",place++,e.preventDefault()}else if(1===place)if(errors.validateInput(input.value,"password"),errors.errorsArr.length>0){var r=document.querySelector(".error");r.innerHTML=errors.errorsArr[0],input.value="",errors.errorsArr=[],e.preventDefault()}else{document.querySelector(".question").remove();var r=document.querySelector(".signupInfo"),l=document.createElement("p"),c=document.createElement("input"),a=document.createElement("label"),n=document.createElement("pre"),o=document.querySelector(".error");r.appendChild(l),l.appendChild(a),l.appendChild(c),l.appendChild(n),a.setAttribute("for","password"),a.innerHTML="Password: ",o.innerHTML="",c.setAttribute("id","password"),c.name="password",c.value=input.value,c.type="password",theme&&("hacker"===theme?(c.style.background="black",c.style.color="#00FF00"):"white"===theme&&(c.style.color="black"),c.style.background=theme),n.className="question",n.innerHTML="\nAll good. Press Enter to delete your account or clear to reset",input.value="",input.type="text",place++,e.preventDefault()}});